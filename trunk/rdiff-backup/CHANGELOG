New in v0.7.4 (2002/05/06)
--------------------------

Added new restore syntax and corresponding -r and --restore-as-of
options.  For instance, "rdiff-backup -r 1/3/2002 /backup/foo out"
will try to restore /backup/foo (a file on the mirror directory) to
out, as it was January 3rd, 2002.  See man page for more information.

Added extra options --chars-to-quote, --quoting-char, and
--windows-mode, mostly to allow files whose names have colons (:) in
them to be backed up to windows machines.

Now the -l and --list-increments switches can list the increments
corresponding to any mirror file, not just the root directory.  Also
the option --parsable-output was added to control whether the
--list-increments output looks better for a human, or computer.

Improved remove-earlier-than handling so it should run approximately
as fast locally and remotely.

Probably fixed bug noticed by Erminio Baranzini which caused
rdiff-backup to try to preserve access times unnecessarily (the
default is not preserve access times).

Rewrote a few large chunks of code for clarity and simplicity.

Allow extended time strings for the --remove-older-than option.

Added RESTORING section to the manual page because there seemed to be
some general confusion about this.


New in v0.7.3 (2002/04/29)
--------------------------

Fixed broken remote operation in v0.7.2 by applying (a variant of)
Daniel Robbins' patch.  Also fixed associated bug in test set.

Fixed bug recognizing --[include|exclude]-filelist-stdin options, and
IndexError bug reading some filelists.

--force is no longer necessary if the target directory is empty.

--include/--exclude/etc now work for restoring as they do for backing up.

Raised verbosity level for traceback output - if long log error
messages are annoying you, set verbosity to 2.  Will come up with a
better logging system later.

May have fixed a problem encountered by Matthew Farrellee and Kevin
Spicer wherein the _session_info_list information was stored on the
wrong computer.  This could cause rdiff-backup to fail when running
after another backup that failed for a different reason.  May backport
this fix to 0.6.0 later.

May have fixed a problem also noticed by Matthew Farrellee which can
cause rdiff-backup to exit when a directory changes into a
non-directory file while rdiff-backup is processing the directory.
(May also apply to 0.6.0).

Fixed a bug noticed by Jamie Heilman where restoring could fail if a
recent rdiff-backup process which produced the backup set was aborted
while processing a new directory.  (May also apply to 0.6.0)


New in v0.7.2 (2002/04/11)
--------------------------

Added new selection options --exclude-filelist,
--exclude-filelist-stdin, --exclude-regexp, --include-filelist,
--include-filelist-stdin, --include-regexp.

*** WARNING *** the --include and --exclude options have changed.  The
new --include-regexp and --exclude-regexp are close to, but still
different from the old --include and --exclude options.  See the man
page for details.

Friendlier error reporting when remote connection doesn't start.


New in v0.7.1 (2002/03/25)
--------------------------

Now by default .snapshot and .diff increments are compressed with
python's internal gzip.  The new increments format is backwards
compatible, but only rdiff-backup >0.7.1 will be able to restore if
any gzipped increments are present.

Added --no-compression and --no-compression-regexp to control which
files are compressed.


New in v0.7.0 (2002/03/21)
--------------------------

Added hardlink support.  This is now the default, but can be turned
off with --no-hardlinks.

Clarified a bit of the manual.

May have fixed a bug with remote handling of device files.


New in v0.6.0 (2002/03/14)
--------------------------

Fixed some assorted manual "bugs".

Fixed endless loop bug in certain error recovery situation reported by
Nick Duffek, and slightly changed around some other error correction
code.

Switching to new version numbering system:  versions x.2n+1.x are
unstable, versions x.2n.x are supposed to be more stable.


New in v0.5.4 (2002/03/06)
--------------------------

Fixed bug present since 0.5.0 wherein rdiff-backup would make
snapshots instead of diffs when regular files change.

May have fixed race condition involving rdiff execution.


New in v0.5.3 (2002/03/03)
--------------------------

It turns out the previous version broke device handling.  Sorry about
that..


New in v0.5.2 (2002/03/02)
--------------------------

Fixed bugs which made rdiff-backup try to preserve mod times when it
wasn't necessary, and exit instead of warning when it wasn't being run
as root and found a file it didn't own.  (Reported by Alberto
Accomazi.)

Added some more error checking; maybe this will fix a bug reported by
John Goerzen wherein rdiff-backup can crash if file is deleted while
rdiff-backup is processing it.

Changed locations of some of the temp files; filenames will be
determined by the tempfile module.


New in v0.5.1 (2002/02/22)
--------------------------

When establishing a connection, print a warning if the server version
is different from the client version.

When find rdiff error value 256, tell user that it is probably because
rdiff couldn't be found in the path.

Fixed a serious bug that can apparently cause a remote backups to fail
(reported by John Goerzen).

May have fixed a bug that causes recovery from certain errors to fail.


New in v0.5.0 (2002/02/17)
--------------------------

Now every so often (default is 20 seconds, the --checkpoint-interval
option controls it) rdiff-backup checkpoints by dumping its state to
temporary files in the rdiff-backup-data directory.  If rdiff-backup
is rerun with the same destination directory, it can either try to
resume the previous backup or at least clean things up so the archive
is consistent and accurate.

Added new options --resume, --no-resume, and --resume-interval, which
control when rdiff-backup tries to resume a previous failed backup.

Fixed a bug with the --exclude-device-files option which caused the
option to be ignored when the source directory was remote.

By default, if rdiff-backup encounters a certain kind of IOError
(currently types 26 and 5) while trying to access a file, it logs the
error, skips the file, and tries to continue.

If settings requiring an integer argument (like -v or
--checkpoint-interval) are given a bad (non-integer) argument, fail
with better explanation.

Fixed annoying logging bug.  Now no matter which computer a logging
message originates on, it should be routed to the process which is
writing to the logging file, and written correctly.  However, logging
messages about network traffic will not be routed, as this will
generate more traffic and lead to an infinite regress.

When calling rdiff, uses popen2.Popen3 and os.spawnvp instead of
os.popen and os.system.  This should make rdiff-backup more secure.
Thanks to Jamie Heilman for the suggestion.

Instead of calling the external shell command 'stat', rdiff-backup
uses os.lstat().st_rdev to determine a device file's major and minor
numbers.  The new method should be more portable.  Thanks to Jamie
Heilman for the suggestion.

All the file operations were examined and tweaked to try to
minimize/eliminate the chance of leaving the backup directory in an
inconsistent state.

Upon catchable kinds of errors, try to checkpoint before exiting so
later rdiff-backup processes have more information to work with.

At the suggestion of Jason Piterak, added a --windows-time-format
option so rdiff-backup will (perhaps) work under MS windows NT.


New in v0.4.4 (2002/01/09)
--------------------------

Applied Berkan Eskikaya's "xmas patch" (I was travelling and didn't
have a chance on Christmas).  He fixed important bugs in the
--terminal-verbosity and --remove-older-than options.

Added an --exclude-device-files option, which makes rdiff-backup skip
any device files in the same way it skips files selected with the
--exclude option.


New in v0.4.3 (2001/12/17)
--------------------------

Plugged another memory hole.  At first I thought it might have been
python's fault, but it was all me.  If rdiff-backup uses more than a
few megabytes of memory, tell me because it is probably another memory
hole..

rdiff-backup is now a bit more careful about deleting temporary files
it creates when it is done with them.

Changed the rpm spec a little.  The enclosed man page is gzipped and
the package file is GPG signed (it can be checked with, for example,
"rpm --checksig -v rdiff-backup-0.4.3-1.noarch.rpm").

rdiff-backup no longer checks the mtimes or atimes of device files.
Use of these times was inconsistent (sometimes writing to device files
updates their times, sometimes not) and leads to unnecessary backing
up of files.


New in v0.4.2 (2001/11/19)
--------------------------

Significant speed increases (maybe 20% for local sessions) when
dealing with directories that do not need to be updated much.

Fixed memory leak.  rdiff-backup should now run in almost constant
memory (about 6MB on my system).

Enabled buffering of object transfers, so remote sessions can be
50-100%+ faster.

rdiff-backup now thinks it is running as root if the destination
connection is root.  Thus rdiff-backup will preserve ownership even if
it is not running as root on the source end.

If you abort rdiff-backup or it fails for some reason, it is now more
robust about recovering the next time it is run (before it could fail
in ways which made subsequent sessions fail also).  However, it is
still not a good idea to abort, as individual files could be in the
process of being written and could get corrupted.

If rdiff-backup encounters an unreadable file (or, if
--change-source-perms is given, a file whose permissions it cannot
change), it will log a warning, ignore the file, and continue, instead
of exiting with an error.


New in v0.4.1 (2001/11/9)
-------------------------

Now either the source, or the target, or both can be remote.  To make
this less confusing, now rdiff-backup supports host::file notation.
So it is legal to run:

rdiff-backup bill@host1.net::source_file jones@host2.net::target

Also, the test suites have been improved and found a number of bugs
(which were then fixed).


New in v0.4.0 (2001/11/4)
-------------------------

Much of the rdiff-backup internals were rewritten.  The result should
be better performance when operating remotely over a pipe with
significant latency.  Also the code dealing with changing permissions
is much cleaner, and should generalize later to similar jobs (for
instance preserving atimes.)

Listing and deleting increments and restoring should work remotely
now.  In earlier versions a file or directory had to be restored
locally and then copied over to its final destination.

At the request of the FSF, a copy of the GPL has been included in the
packaged distributions.  It is in the file "COPYING".


New in v0.3.4 (2001/10/31)
--------------------------

A change in python from the 2.2a series to 2.2b series made remote
backup on version 0.3.3 stop work, a small change fixes it.  (Thanks
to Berkan Eskikaya for telling me about this.)

Listed some missing features/bugs on the manual page.


New in v0.3.3 (2001/10/16)
--------------------------

Changed quoting system yet again after learning that the old system
was not very portable between shells (thanks Hans
<hguevremont@eternitee.com>)


New in v0.3.2 (2001/10/9)
-------------------------

Added --list-increments and --remove-older-than commands.
--list-increments will just tell you what increments you have and
their dates.  This isn't anything you couldn't get from "ls", but it
may be formatted more nicely.  The --remove-older-than command is used
to delete older increments that you don't want, or don't have space
for.

Also, on some systems ssh was adding a spurious "Broken pipe" message,
even though everything went fine.  Maybe this version will prevent
this confusing message.


New in v0.3.1 (2001/9/11)
-------------------------

Fix for stupid bug - when running remotely as users with different
uids, rdiff-backup now doesn't check the uid/gid.  Before it kept
thinking that the files needed to be updated because they didn't have
the right ownership.  This shouldn't have resulted in any data loss -
just some unnecessary .rdiff files.  (Thanks to Michael Friedlander
for finding this.)

Added check to make sure that rdiff exits successfully.


New in v0.3.0 (2001/9/9 - Billennium edition)
---------------------------------------------

rdiff-backup has been almost completely rewritten for v0.3.0, as it
was for v0.1.0.  The main problem with versions 0.2.x was that the
networking code was added to the not-remote-capable v0.1, and the
result was unyieldy and prone to bugs when operating over a pipe.

There are some new features:

- Hopefully very few bugs, at least in basic file handling.
  rdiff-backup has an extensive testing suite now, so it should be
  much more reliable.

- Complete support for reading and writing from and to files and
  directories that lack permissions, by temporarily changing them, and
  then changing them back later.  (See for instance the
  --change-source-perms switch.)  As I found out there is a lot to
  this, so much that I'm not sure in retrospect I should have
  bothered. :-)

- New more standard format for increment files.  See
  http://www.w3.org/TR/NOTE-datetime for the time standard.  The old
  format, besides being less standard, didn't take timezones into
  account.

- In the initial mirroring, rdiff-backup only copies the files that it
  needs to, so it is much quicker when you almost have an initial
  mirror already.  You can even the --mirror-only switch and make
  rdiff-backup into a slow version of rsync.

- Terminal and file verbosity levels can be selected separately.  So
  if you like a lot in your backup.log/restore.log but not much on
  your terminal, or vice-versa, you can set them at different numbers.

- New --test-server option so if something goes wrong you can see if
  it is because the server on the other side isn't being initialized
  properly.

- New --no-rdiff-copy option, which disables using rdiff to move files
  across a connection (it will still be used to make increment files
  however).  If the bottleneck is not bandwidth but local disks/CPUs,
  this options should speed things up.

There are, however, a few negatives:

- rdiff-backup now requires Python version 2.2 or later.  Sorry for
  the inconvenience but I use the new features a lot.

- It may be slightly slower overall than versions 0.2.x - the remote
  code is cleaner, but probably has higher overhead.  At least on my
  computer, rdiff-backup is still quicker than rsync for local
  mirroring of large files, but for remote mirroring, rsync will
  usually be much quicker, because it uses a fairly low-overhead
  pipelining protocol.

- Any old increments are incompatible because they use a different
  date/time standard.  If this is a big deal, try mailing me.  A
  converter shouldn't be very difficult to write, but I didn't want to
  take the time unless someone really wanted it.


New in v0.2.8 (2001/9/4)
-------------------------

Fixed two stupid bugs that would cause rdiff-backup to exit with an
exception.  (I can't believe they were in there.)


New in v0.2.7 (2001/8/29)
-------------------------

Added new long options --backup-mode and --verbosity which are
equivalent to -b and -v.

rdiff-backup should be a little more resistant to the filesystem it is
backup up changing underneath it (although it is not setup to handle
this in general).  Thanks Alberto Accomazzi
<aaccomazzi@cfa.harvard.edu> for these suggestions.


New in v0.2.6 (2001/8/27)
-------------------------

Fixed bug where, for non-root users, rdiff-backup could, in the
process of mirroring an unwritable directory, make the copy
unwriteable and then fail.  Now rdiff-backup goes through and makes
what it needs to be readable and writeable, and then changes things
back at the end.  (Another one found by Jeb Campbell!)


New in v0.2.5 (2001/8/26)
-------------------------

Added better error reporting when server throws an exception.

Fixed bug so that backed-up setuid files will also be setuid.

Now rdiff-backup thinks it's running as root only if both client and
server are running as root (Thanks to Jeb Campbell for finding these
previous two bugs).

Fixed miscellaneous Path bug that could occur in remote operation.


New in v0.2.4 (2001/8/25)
-------------------------

Added more logging options that may help other track down a mysterious
bug.


New in v0.2.3 (2001/8/24)
-------------------------

Fixed typing bug that caused an Assertion Error in remote operation,
thanks again to Jeb Campbell for finding it.


New in v0.2.2 (2001/8/24)
-------------------------

Fixed bug in remote creation of special files and symlinks (thanks to
Jeb Campbell <jebc@c4solutions.net> for finding it).

Fixed another error report.


New in v0.2.1 (2001/8/7)
------------------------

Now if rdiff-backup isn't running as root, it doesn't try to change
file ownership.

Fixed an error report.

Stopped flushing an open pipe to fix a race condition on IRIX.


New in v0.2 (2001/8/3)
----------------------

rdiff-backup can now operate in a bandwidth efficient manner (a la
rsync) using a pipe setup with, for instance, ssh.

I was too hasty with the last bug fix and didn't deal with all
filenames properly.  Maybe this one will work.


New in v0.1.1 (2001/8/2)
-------------------------

Bug fix:  Filenames that may contain spaces, backslashes, and other
special characters are quoted now and should be handled correctly.


New in v0.1 (2001/7/15)
----------------------

Large portion (majority?) of rdiff-backup was rewritten for v0.1.  New
version highlights:

 -  No new features!
 -  No speed improvements!  It may even be slower...
 -  No bug fixes!  (ok maybe a few)

However, the new version is much cleaner and better documented.  This
version should have fewer bugs, and it should be easier to fix any
future bugs.
